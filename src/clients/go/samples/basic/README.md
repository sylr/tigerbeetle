This file is generated by
[/src/clients/docs_generate.zig](/src/clients/docs_generate.zig).

# Basic Go Sample

Code for this sample is in [./main.go](./main.go).

## Prerequisites

Linux >= 5.6 is the only production environment we
support. But for ease of development we also support macOS and Windows.
* Go >= 1.17

**Additionally on Windows**: you must install [Zig
0.9.1](https://ziglang.org/download/#release-0.9.1) and set the
`CC` environment variable to `zig.exe cc`. Use the full path for
`zig.exe`.

## Setup

First, clone this repo and `cd` into `tigerbeetle/src/clients/go/samples/basic`.

Then, install the TigerBeetle client:

```console
$ go mod init tbtest
$ go mod tidy
```

## Start the TigerBeetle server

Follow steps in the repo README to start a **single
server** [from a single
binary](/README.md#single-binary) or [in a Docker
container](/README.md#with-docker).

If you are not running on port `localhost:3000`, set
the environment variable `TB_ADDRESS` to the full
address of the TigerBeetle server you started.

## Run this sample

Now you can run this sample:

```console
$ go run main.go
```

## Walkthrough

Here's what this project does.

## 1. Create accounts

This project starts by creating two accounts (`1` and `2`).

## 2. Create a transfer

Then it transfers `10` of an amount from account `1` to
account `2`.

## 3. Fetch and validate account balances

Then it fetches both accounts, checks they both exist, and
checks that **account `1`** has:
 * `debits_posted = 10`
 * and `credits_posted = 0`

And that **account `2`** has:
 * `debits_posted= 0`
 * and `credits_posted = 10`

